process exampleRunAll = {
###############################
#  Example configuration file, to be used with CMSSW_1_0_0
#  By Freya Blekman, f.blekman@imperial.ac.uk

###############################
# include services
 include "Configuration/ReleaseValidation/data/Services.cfi"


###############################
# initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"


###############################
# make sure you have a random number generator

  service = RandomNumberGeneratorService
  {
    untracked uint32 sourceSeed = 98765
    PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 123456789
      }
  }

###############################
#input module:

include "IOMC/GeneratorInterface/data/PythiaHZZ4mu.cfi"

#and fix the number of events to create (default is 10)
replace PythiaSource.maxEvents = 20


###############################
#output module:

 module GEN-SIM-DIGI-RECO = PoolOutputModule {
     untracked string fileName = "exampleRunAllOutput.root"
     untracked vstring outputCommands = {
	#this is the place to drop information. Use the "drop *" command to do this, see CMSSW documentation (like the workbook) for more details
         "keep *"

     }
   }

##############################
# smear the primary vertex (exclude from path if you want vertex at (0,0,0)


include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"


###############################
# include the 'official' simulation/reconstruction file
# this file contains the path definitions for everything necessary to reconstruct things.

  include "SimG4Core/Application/data/SimG4Object.cfi"

  include "SimG4Core/Application/data/DigiWithEcalZeroSuppression.cff"

  sequence smear_and_geant = { VtxSmeared,  g4SimHits}

  sequence digitization = {doAllDigiWithEcalZeroSup}


  include "Configuration/Examples/data/RECO.cff"

###############################
# now define what you want to do
path p = {smear_and_geant,digitization, reconstruction}
# digitization and reconstruction are sequences of actions that are defined in the .cff files that were included

endpath outpath = {GEN-SIM-DIGI-RECO}	

}